<Window x:Class="FourInLineGame.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:ViewModel"
        xmlns:view="clr-namespace:View"
        Title="4 in a Line"
        Height="450"
        Width="400">
    <Window.DataContext>
        <vm:GameViewModel/>
    </Window.DataContext>
    <Window.Resources>
        <vm:EnumToBooleanConverter x:Key="EnumToBoolean"/>
    </Window.Resources>

    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="Mode">
                <MenuItem Header="Human vs Human"
                          IsCheckable="True"
                          IsChecked="{Binding Mode, Converter={StaticResource EnumToBoolean}, ConverterParameter=HumanVsHuman}"
                          Command="{Binding SetModeCommand}"
                          CommandParameter="HumanVsHuman"/>
                <MenuItem Header="Human vs Computer"
                          IsCheckable="True"
                          IsChecked="{Binding Mode, Converter={StaticResource EnumToBoolean}, ConverterParameter=HumanVsComputer}"
                          Command="{Binding SetModeCommand}"
                          CommandParameter="HumanVsComputer"/>
            </MenuItem>
        </Menu>
        <StackPanel DockPanel.Dock="Top"
                    Orientation="Horizontal"
                    Margin="8"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">
            <TextBlock Text="Current:"
                       FontWeight="Bold"
                       VerticalAlignment="Center"/>
            <TextBlock Text=" "/>
            <TextBlock Text="{Binding CurrentPlayer}"
                       VerticalAlignment="Center"/>
            <TextBlock Text="  |  "/>
            <TextBlock Text="Red Wins:"
                       VerticalAlignment="Center"/>
            <TextBlock Text="{Binding RedWins}"
                       VerticalAlignment="Center"/>
            <TextBlock Text="  |  "/>
            <TextBlock Text="Yellow Wins:"
                       VerticalAlignment="Center"/>
            <TextBlock Text="{Binding YellowWins}"
                       VerticalAlignment="Center"/>
            <Button Content="Reset"
                    Command="{Binding ResetCommand}"
                    Margin="12,0,0,0"/>
        </StackPanel>

        <ItemsControl ItemsSource="{Binding Board}"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Center">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <UniformGrid Rows="6"
                                 Columns="7"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <view:CellControl DataContext="{Binding}"/>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </DockPanel>
</Window>
